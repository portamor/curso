{"ast":null,"code":"import { createStore, applyMiddleware, combineReducers } from \"redux\";\nimport { composeWithDevTools } from \"redux-devtools-extension\";\nimport thunk from \"redux-thunk\";\nimport { loginSuccess } from '../Redux/actions';\nfunction saveToLocalStorage(state) {\n  try {\n    const serializedState = JSON.stringify(state);\n    localStorage.setItem(\"session\", serializedState);\n  } catch (e) {\n    console.log(e);\n  }\n}\nfunction loadFromLocalStorage() {\n  try {\n    const serializedState = localStorage.getItem(\"session\");\n    if (serializedState === null) return undefined;\n    return JSON.parse(serializedState);\n  } catch (e) {\n    console.log(e);\n    return undefined;\n  }\n}\nfunction authReducer() {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {\n    isLoggedIn: false,\n    user: null\n  };\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n  switch (action.type) {\n    case LOGIN_SUCCESS:\n      return {\n        ...state,\n        isLoggedIn: true,\n        user: action.payload\n      };\n    default:\n      return state;\n  }\n}\nconst rootReducer = combineReducers({\n  auth: authReducer\n});\nconst persistedState = loadFromLocalStorage();\nexport const store = createStore(rootReducer, persistedState, composeWithDevTools(applyMiddleware(thunk)));\nstore.subscribe(() => saveToLocalStorage(store.getState()));\nexport default store;","map":{"version":3,"names":["createStore","applyMiddleware","combineReducers","composeWithDevTools","thunk","loginSuccess","saveToLocalStorage","state","serializedState","JSON","stringify","localStorage","setItem","e","console","log","loadFromLocalStorage","getItem","undefined","parse","authReducer","arguments","length","isLoggedIn","user","action","type","LOGIN_SUCCESS","payload","rootReducer","auth","persistedState","store","subscribe","getState"],"sources":["C:/Users/OS/Desktop/curso/Portamor-Front/src/Store/index.js"],"sourcesContent":["import { createStore, applyMiddleware, combineReducers } from \"redux\";\r\nimport { composeWithDevTools } from \"redux-devtools-extension\";\r\nimport thunk from \"redux-thunk\";\r\nimport { loginSuccess } from '../Redux/actions';\r\n\r\n\r\nfunction saveToLocalStorage(state) {\r\n  try {\r\n    const serializedState = JSON.stringify(state);\r\n    localStorage.setItem(\"session\", serializedState);\r\n  } catch (e) {\r\n    console.log(e);\r\n  }\r\n}\r\n\r\nfunction loadFromLocalStorage() {\r\n  try {\r\n    const serializedState = localStorage.getItem(\"session\");\r\n    if (serializedState === null) return undefined;\r\n    return JSON.parse(serializedState);\r\n  } catch (e) {\r\n    console.log(e);\r\n    return undefined;\r\n  }\r\n}\r\n\r\nfunction authReducer(state = { isLoggedIn: false, user: null }, action) {\r\n  switch (action.type) {\r\n    case LOGIN_SUCCESS:\r\n      return { ...state, isLoggedIn: true, user: action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nconst rootReducer = combineReducers({\r\n  auth: authReducer,\r\n});\r\n\r\nconst persistedState = loadFromLocalStorage();\r\n\r\nexport const store = createStore(\r\n  rootReducer,\r\n  persistedState,\r\n  composeWithDevTools(applyMiddleware(thunk))\r\n);\r\n\r\nstore.subscribe(() => saveToLocalStorage(store.getState()));\r\n\r\nexport default store;\r\n"],"mappings":"AAAA,SAASA,WAAW,EAAEC,eAAe,EAAEC,eAAe,QAAQ,OAAO;AACrE,SAASC,mBAAmB,QAAQ,0BAA0B;AAC9D,OAAOC,KAAK,MAAM,aAAa;AAC/B,SAASC,YAAY,QAAQ,kBAAkB;AAG/C,SAASC,kBAAkBA,CAACC,KAAK,EAAE;EACjC,IAAI;IACF,MAAMC,eAAe,GAAGC,IAAI,CAACC,SAAS,CAACH,KAAK,CAAC;IAC7CI,YAAY,CAACC,OAAO,CAAC,SAAS,EAAEJ,eAAe,CAAC;EAClD,CAAC,CAAC,OAAOK,CAAC,EAAE;IACVC,OAAO,CAACC,GAAG,CAACF,CAAC,CAAC;EAChB;AACF;AAEA,SAASG,oBAAoBA,CAAA,EAAG;EAC9B,IAAI;IACF,MAAMR,eAAe,GAAGG,YAAY,CAACM,OAAO,CAAC,SAAS,CAAC;IACvD,IAAIT,eAAe,KAAK,IAAI,EAAE,OAAOU,SAAS;IAC9C,OAAOT,IAAI,CAACU,KAAK,CAACX,eAAe,CAAC;EACpC,CAAC,CAAC,OAAOK,CAAC,EAAE;IACVC,OAAO,CAACC,GAAG,CAACF,CAAC,CAAC;IACd,OAAOK,SAAS;EAClB;AACF;AAEA,SAASE,WAAWA,CAAA,EAAoD;EAAA,IAAnDb,KAAK,GAAAc,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAH,SAAA,GAAAG,SAAA,MAAG;IAAEE,UAAU,EAAE,KAAK;IAAEC,IAAI,EAAE;EAAK,CAAC;EAAA,IAAEC,MAAM,GAAAJ,SAAA,CAAAC,MAAA,OAAAD,SAAA,MAAAH,SAAA;EACpE,QAAQO,MAAM,CAACC,IAAI;IACjB,KAAKC,aAAa;MAChB,OAAO;QAAE,GAAGpB,KAAK;QAAEgB,UAAU,EAAE,IAAI;QAAEC,IAAI,EAAEC,MAAM,CAACG;MAAQ,CAAC;IAC7D;MACE,OAAOrB,KAAK;EAAC;AAEnB;AAEA,MAAMsB,WAAW,GAAG3B,eAAe,CAAC;EAClC4B,IAAI,EAAEV;AACR,CAAC,CAAC;AAEF,MAAMW,cAAc,GAAGf,oBAAoB,EAAE;AAE7C,OAAO,MAAMgB,KAAK,GAAGhC,WAAW,CAC9B6B,WAAW,EACXE,cAAc,EACd5B,mBAAmB,CAACF,eAAe,CAACG,KAAK,CAAC,CAAC,CAC5C;AAED4B,KAAK,CAACC,SAAS,CAAC,MAAM3B,kBAAkB,CAAC0B,KAAK,CAACE,QAAQ,EAAE,CAAC,CAAC;AAE3D,eAAeF,KAAK"},"metadata":{},"sourceType":"module","externalDependencies":[]}